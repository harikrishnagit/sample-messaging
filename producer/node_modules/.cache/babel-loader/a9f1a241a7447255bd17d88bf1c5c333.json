{"ast":null,"code":"var _jsxFileName = \"/Users/harinarasimhamurthy/workspace/sample-messaging/producer/src/components/MessageManagement/MessageManagementContainer.js\";\nimport React from 'react';\nimport CommonModal from '../common/modal/CommonModal';\nimport OIPTable from '../common/tables/OIPTable';\nimport OIPCard from '../common/cards/OIPCard';\nimport { Button, Form, TextArea, Input, Icon, Radio, Header, Container, Message } from 'semantic-ui-react';\nimport _ from 'lodash';\nimport axios from 'axios';\nimport { any } from 'prop-types';\nexport class MessageManagementContainer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSort = clickedColumn => () => {\n      const {\n        column,\n        data,\n        direction\n      } = this.state;\n\n      if (column !== clickedColumn) {\n        this.setState({\n          column: clickedColumn,\n          data: _.sortBy(data, [clickedColumn]),\n          direction: \"ascending\"\n        });\n        return;\n      }\n\n      this.setState({\n        data: data.reverse(),\n        direction: direction === \"ascending\" ? \"descending\" : \"ascending\"\n      });\n    };\n\n    this.handleChange = (path, value) => {\n      var clonedState = { ...this.state\n      };\n\n      _.set(clonedState, path, value);\n\n      this.setState({ ...clonedState\n      });\n    };\n\n    this.toggleModal = openModal => {\n      let currentState = this.state[openModal];\n      console.log(JSON.stringify(openModal));\n      this.setState({\n        [openModal]: !currentState\n      });\n    };\n\n    this.toggleUpdateModal = index => {\n      this.setState({\n        chosenCardIndex: index,\n        openUpdateModal: !this.state.openUpdateModal\n      });\n    };\n\n    this.hideTextBox = () => {\n      this.setState({\n        showTextBox: false\n      });\n    };\n\n    this.showTextBox = () => {\n      this.setState({\n        showTextBox: true\n      });\n    };\n\n    this.handleSubmit = () => {\n      console.log(JSON.stringify(this.state));\n    };\n\n    this.onSendMessage = () => {\n      let {\n        data\n      } = this.state;\n      let userData = data[0];\n      console.log(userData);\n\n      const NATS = require('nats');\n\n      const thisurl = new URL('nats://127.0.0.1:4222');\n      let nc = NATS.connect(thisurl, {\n        json: true\n      });\n      nc.on('connect', c => {\n        // Simple Publisher\n        nc.publish('sample-messaging', userData);\n        console.log('Published: ' + userData);\n        console.log(c); // Close connection\n\n        nc.close();\n      });\n      nc.on('error', err => {\n        console.log(err);\n      }); // location: 'http://localhost:10005/PostMessageQueue'\n      // axios({\n      //     url: location,\n      //     method: \"POST\",\n      //     data: userData,\n      // }).then(response => {\n      //     console.log(JSON.stringify(response.data));\n      // }).catch(err => {\n      //     console.log(JSON.stringify(err));\n      // });\n    };\n\n    this.state = {\n      openSearchModal: false,\n      openUpdateModal: false,\n      showTextBox: false,\n      successToastVisible: false,\n      chosenCardIndex: 0,\n      userData: any,\n      data: [{\n        user: \"Kennedy, John (jsmith)\",\n        fullname: {\n          firstname: \"John\",\n          middlename: \"F\",\n          lastname: \"Kennedy\"\n        },\n        email: \"jfk@gmail.com\",\n        phoneNumber: \"(111)-222-3333#1235\"\n      }, {\n        user: \"Wilson, Woody\",\n        fullname: {\n          firstname: \"Woodrow\",\n          lastname: \"Willson\"\n        },\n        email: \"woody@gmail.com\",\n        phoneNumber: \"(222)-555-3333\"\n      }]\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }\n    }, this.state.successToastVisible ? /*#__PURE__*/React.createElement(Message, {\n      color: \"green\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      className: \"check circle outline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 25\n      }\n    }), \"'User Successfully Updated'\", /*#__PURE__*/React.createElement(Icon, {\n      className: \"cancel\",\n      style: {\n        float: 'right'\n      },\n      onClick: () => {\n        this.setState({\n          successToastVisible: false\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    })) : false, /*#__PURE__*/React.createElement(Container, {\n      style: {\n        padding: '24px',\n        border: '2px',\n        borderRadius: '5px',\n        backgroundColor: '#f8f9fa'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      as: \"h1\",\n      style: {\n        padding: '0.5em 0em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 21\n      }\n    }, \"Send/Update user Information\", /*#__PURE__*/React.createElement(Header.Subheader, {\n      style: {\n        paddingTop: '0.25em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 29\n      }\n    }, \"Use the Send button to Send your information. At least one field must be filled to complete this action.\"))), /*#__PURE__*/React.createElement(Form, {\n      style: {\n        padding: '24px',\n        border: '2px solid #6c757d',\n        borderRadius: '5px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Input, {\n      label: \"User Name\",\n      placeholder: \"User Name\",\n      onChange: e => this.handleChange(\"userData.username\", e.target.value),\n      width: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Input, {\n      label: \"First Name\",\n      placeholder: \"First Name\",\n      onChange: e => this.handleChange(\"userData.firstname\", e.target.value),\n      width: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(Form.Input, {\n      name: \"middlename\",\n      label: \"Middle Name\",\n      placeholder: \"Middle Name\",\n      width: 4,\n      onChange: e => this.handleChange(\"userData.middlename\", e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(Form.Input, {\n      name: \"lastname\",\n      label: \"Last Name\",\n      onChange: e => this.handleChange(\"userData.lastname\", e.target.value),\n      placeholder: \"Last Name\",\n      width: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Form.Input, {\n      name: \"email\",\n      label: \"Email\",\n      placeholder: \"example@email.com\",\n      width: 6,\n      onChange: e => this.handleChange(\"userData.email\", e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Form.Input, {\n      onChange: e => this.handleChange(\"userData.phonenumber\", e.target.value),\n      label: \"Phone Number\",\n      placeholder: \"+X(XXX)-XXX-XXXX\",\n      width: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      color: \"blue\",\n      title: 'Send Message',\n      onClick: () => {\n        console.log(\"Hari\");\n        this.onSendMessage();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"upload\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 29\n      }\n    }), 'Send')), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 21\n      }\n    }), this.state.data ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(OIPTable, {\n      scrollable: 100,\n      celled: false,\n      basic: false,\n      columns: 5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(OIPTable.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(OIPTable.HeaderCell, {\n      width: \"20%\",\n      sorted: this.state.column === \"user\" ? this.state.direction : null,\n      onClick: this.handleSort(\"user\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 37\n      }\n    }, \"UserName\"), /*#__PURE__*/React.createElement(OIPTable.HeaderCell, {\n      width: \"20%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 37\n      }\n    }, \"Full Name\"), /*#__PURE__*/React.createElement(OIPTable.HeaderCell, {\n      width: \"20%\",\n      sorted: this.state.column === \"active\" ? this.state.direction : null,\n      onClick: this.handleSort(\"active\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 37\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(OIPTable.HeaderCell, {\n      width: \"20%\",\n      sorted: this.state.column === \"active\" ? this.state.direction : null,\n      onClick: this.handleSort(\"active\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 37\n      }\n    }, \"Phone\"))), _.map(this.state.data, (userData, index) => {\n      let cardData = (({\n        user,\n        fullname,\n        email,\n        phoneNumber\n      }) => ({\n        user,\n        fullname,\n        email,\n        phoneNumber\n      }))(userData);\n\n      return /*#__PURE__*/React.createElement(OIPCard, {\n        data: cardData,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 41\n        }\n      });\n    })) : ''));\n  }\n\n}\nexport default MessageManagementContainer;","map":{"version":3,"sources":["/Users/harinarasimhamurthy/workspace/sample-messaging/producer/src/components/MessageManagement/MessageManagementContainer.js"],"names":["React","CommonModal","OIPTable","OIPCard","Button","Form","TextArea","Input","Icon","Radio","Header","Container","Message","_","axios","any","MessageManagementContainer","Component","constructor","props","handleSort","clickedColumn","column","data","direction","state","setState","sortBy","reverse","handleChange","path","value","clonedState","set","toggleModal","openModal","currentState","console","log","JSON","stringify","toggleUpdateModal","index","chosenCardIndex","openUpdateModal","hideTextBox","showTextBox","handleSubmit","onSendMessage","userData","NATS","require","thisurl","URL","nc","connect","json","on","c","publish","close","err","openSearchModal","successToastVisible","user","fullname","firstname","middlename","lastname","email","phoneNumber","render","float","padding","border","borderRadius","backgroundColor","paddingTop","e","target","map","cardData"],"mappings":"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","sourcesContent":["import React from 'react';\nimport CommonModal from '../common/modal/CommonModal'\nimport OIPTable from '../common/tables/OIPTable'\nimport OIPCard from '../common/cards/OIPCard'\nimport { Button, Form, TextArea, Input, Icon, Radio, Header, Container, Message } from 'semantic-ui-react';\nimport _ from 'lodash';\nimport axios from 'axios';\nimport { any } from 'prop-types';\n\nexport class MessageManagementContainer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            openSearchModal: false,\n            openUpdateModal: false,\n            showTextBox: false,\n            successToastVisible: false,\n            chosenCardIndex: 0,\n            userData: any,\n            data: [\n                {\n                    user: \"Kennedy, John (jsmith)\",\n                    fullname: {\n                        firstname: \"John\",\n                        middlename: \"F\",\n                        lastname: \"Kennedy\"\n                    },\n                    email: \"jfk@gmail.com\",\n                    phoneNumber: \"(111)-222-3333#1235\"\n                },\n                {\n                    user: \"Wilson, Woody\",\n                    fullname: {\n                        firstname: \"Woodrow\",\n                        lastname: \"Willson\"\n                    },\n                    email: \"woody@gmail.com\",\n                    phoneNumber: \"(222)-555-3333\"\n                }\n            ]\n        }\n    }\n    handleSort = clickedColumn => () => {\n        const { column, data, direction } = this.state;\n\n        if (column !== clickedColumn) {\n            this.setState({\n                column: clickedColumn,\n                data: _.sortBy(data, [clickedColumn]),\n                direction: \"ascending\"\n            });\n\n            return;\n        }\n\n        this.setState({\n            data: data.reverse(),\n            direction: direction === \"ascending\" ? \"descending\" : \"ascending\"\n        });\n    };\n    handleChange = (path, value) => {\n        var clonedState = { ...this.state };\n        _.set(clonedState, path, value);\n        this.setState({ ...clonedState });\n    };\n\n    toggleModal = (openModal) => {\n        let currentState = this.state[openModal];\n        console.log(JSON.stringify(openModal));\n        this.setState({ [openModal]: !currentState });\n    }\n    toggleUpdateModal = (index) => {\n        this.setState({\n            chosenCardIndex: index,\n            openUpdateModal: !this.state.openUpdateModal\n        });\n    }\n    hideTextBox = () => {\n        this.setState({ showTextBox: false })\n    }\n    showTextBox = () => {\n        this.setState({ showTextBox: true })\n    }\n    handleSubmit = () => {\n        console.log(JSON.stringify(this.state));\n\n    }\n    onSendMessage = () => {\n        let { data } = this.state;\n        let userData = data[0];\n        console.log(userData);\n        const NATS = require('nats')\n        const thisurl = new URL('nats://127.0.0.1:4222');\n\n        let nc = NATS.connect(thisurl, { json: true });\n        nc.on('connect', (c) => {\n            // Simple Publisher\n            nc.publish('sample-messaging', userData);\n            console.log('Published: ' + userData);\n            console.log(c);\n            // Close connection\n            nc.close()\n        });\n        nc.on('error', (err) => {\n            console.log(err);\n        })\n\n        // location: 'http://localhost:10005/PostMessageQueue'\n        // axios({\n        //     url: location,\n        //     method: \"POST\",\n        //     data: userData,\n        // }).then(response => {\n        //     console.log(JSON.stringify(response.data));\n        // }).catch(err => {\n        //     console.log(JSON.stringify(err));\n        // });\n    }\n    render() {\n        return (\n            <React.Fragment>\n                {this.state.successToastVisible ?\n                    <Message color='green'>\n                        <Icon className='check circle outline' />\n                'User Successfully Updated'\n                <Icon\n                            className=\"cancel\"\n                            style={{ float: 'right' }}\n                            onClick={() => { this.setState({ successToastVisible: false }) }}\n                        />\n                    </Message> : false}\n                <Container style={{ padding: '24px', border: '2px', borderRadius: '5px', backgroundColor: '#f8f9fa' }}>\n                    <Header as='h1' style={{ padding: '0.5em 0em' }}>Send/Update user Information\n                    <Header.Subheader style={{ paddingTop: '0.25em' }}>\n                            <i>Use the Send button to Send your information. At least one field must be filled to complete this action.</i>\n                        </Header.Subheader>\n                    </Header>\n                    <Form\n                        style={{ padding: '24px', border: '2px solid #6c757d', borderRadius: '5px' }}>\n                        <Form.Input label='User Name' placeholder='User Name' onChange={e => this.handleChange(\"userData.username\", e.target.value)}\n                            width={4} />\n                        <Form.Group>\n                            <Form.Input label='First Name' placeholder='First Name' onChange={e => this.handleChange(\"userData.firstname\", e.target.value)} width={6} />\n                            <Form.Input name='middlename' label='Middle Name' placeholder='Middle Name' width={4} onChange={e => this.handleChange(\"userData.middlename\", e.target.value)} />\n                            <Form.Input name='lastname' label='Last Name' onChange={e => this.handleChange(\"userData.lastname\", e.target.value)} placeholder='Last Name' width={6} />\n                        </Form.Group>\n                        <Form.Input name='email' label='Email' placeholder='example@email.com' width={6} onChange={e => this.handleChange(\"userData.email\", e.target.value)} />\n                        <Form.Input onChange={e => this.handleChange(\"userData.phonenumber\", e.target.value)} label='Phone Number' placeholder='+X(XXX)-XXX-XXXX' width={6} />\n                        <Button\n                            color=\"blue\"\n                            title={'Send Message'}\n                            onClick={() => { console.log(\"Hari\"); this.onSendMessage() }}>\n                            <Icon name='upload' />{'Send'}\n                        </Button>\n                    </Form>\n                    <br />\n                    {this.state.data ? (\n                        <div>\n                            <OIPTable\n                                scrollable={100}\n                                celled={false}\n                                basic={false}\n                                columns={5}\n                            >\n                                <OIPTable.Header>\n                                    <OIPTable.HeaderCell\n                                        width='20%'\n                                        sorted={this.state.column === \"user\" ? this.state.direction : null}\n                                        onClick={this.handleSort(\"user\")}\n                                    >UserName</OIPTable.HeaderCell>\n                                    <OIPTable.HeaderCell width='20%'>Full Name</OIPTable.HeaderCell>\n                                    <OIPTable.HeaderCell\n                                        width='20%'\n                                        sorted={this.state.column === \"active\" ? this.state.direction : null}\n                                        onClick={this.handleSort(\"active\")}\n                                    >Email</OIPTable.HeaderCell>\n                                    <OIPTable.HeaderCell\n                                        width='20%'\n                                        sorted={this.state.column === \"active\" ? this.state.direction : null}\n                                        onClick={this.handleSort(\"active\")}\n                                    >Phone</OIPTable.HeaderCell>\n                                </OIPTable.Header>\n                            </OIPTable>\n                            {_.map(this.state.data, (userData, index) => {\n                                let cardData = (({ user, fullname, email, phoneNumber }) =>\n                                ({\n                                    user, fullname, email, phoneNumber,\n                                }))(userData);\n                                return (<OIPCard data={cardData}>\n                                    {/* <Button icon=\"ellipsis horizontal\" onClick={()=>{this.toggleUpdateModal(index)}}></Button> */}\n                                </OIPCard>)\n                            })}\n\n                        </div>\n                    ) : ''}\n                </Container>\n            </React.Fragment>\n        );\n    }\n}\n\n\nexport default MessageManagementContainer;"]},"metadata":{},"sourceType":"module"}